<?xml version="1.0" encoding="utf-8"?>
<TfrxReport Version="4.12.15" DotMatrixReport="False" IniFile="\Software\Fast Reports" PreviewOptions.Buttons="4095" PreviewOptions.Zoom="1" PrintOptions.Printer="Default" PrintOptions.PrintOnSheet="0" ReportOptions.CreateDate="37839,4338871643" ReportOptions.Description.Text="" ReportOptions.LastChange="41764,5719883218" ScriptLanguage="PascalScript" ScriptText.Text="procedure ReportOnStartReport(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  odsReplaceWrongGoods.Open;                                  &#13;&#10;  MasterData3.Visible := odsReplaceWrongGoods.RecordCount &#62; 0;&#13;&#10;  DetailData2.Visible := odsReplaceWrongGoods.RecordCount &#62; 0;  &#13;&#10;  Header2.Visible := odsReplaceWrongGoods.RecordCount &#62; 0;        &#13;&#10;end;&#13;&#10;&#13;&#10;begin&#13;&#10;&#13;&#10;end." StoreInDFM="False" OnStartReport="ReportOnStartReport" PropData="08446174617365747301010C3600000020446174615365743D22667244425F426173655461626C652220446174615365744E616D653D22667244425F426173655461626C652200010C2A00000020446174615365743D226F6473476F6F64732220446174615365744E616D653D226F6473476F6F64732200010C4200000020446174615365743D226F64735265706C61636557726F6E67476F6F64732220446174615365744E616D653D226F64735265706C61636557726F6E67476F6F64732200010C2800000020446174615365743D226F64734E756C6C2220446174615365744E616D653D226F64734E756C6C220000095661726961626C657301010C000000000000055374796C650100">
  <TfrxDataPage Name="Data" Height="1000" Left="0" Top="0" Width="1000">
    <TfrxDOAQuery Name="odsGoods" UserName="odsGoods" CloseDataSource="True" FieldAliases.Text="GOOD_CODE=GOOD_CODE&#13;&#10;NAME=NAME&#13;&#10;QUANTITY=QUANTITY&#13;&#10;O_ORDER_ID=O_ORDER_ID&#13;&#10;CELL_CODE=CELL_CODE&#13;&#10;TASK_ORDER_ID=TASK_ORDER_ID&#13;&#10;TASK_TYPE=TASK_TYPE&#13;&#10;DELIV_AREA=DELIV_AREA&#13;&#10;STORAGE=STORAGE&#13;&#10;TITLE=TITLE" BCDToCurrency="False" Master="frDB_BaseTable" Session="DBM.OraSession" Active="False" Debug="False" MasterFields="order_id" Params.PropData="04446174610A260000000300000001000000090000003A4F524445525F49440500000005000000333534350000000000" SQL.Text=" select good_code,&#13;&#10;        name ||', '||quantity||measure as name,&#13;&#10;        quantity,       &#13;&#10;        o_order_id,&#13;&#10;       -- o_order_status,           &#13;&#10;        case&#13;&#10;          when task_type in ('MOVE_DEFECT','DELIVERY','DEBARCADER') then '-'&#13;&#10;          when task_type = 'MOVE_WRONG' and storage = '0555' then '-'&#13;&#10;          else cell_code&#13;&#10;        end as cell_code,&#13;&#10;        task_order_id,&#13;&#10;         task_type,&#13;&#10;         task_type_text,&#13;&#10;         decode(pk_pzv.get_task_type(task_order_id), 'REJECT_0555', null, deliv_area) deliv_area,&#13;&#10;         storage,&#13;&#10;       'Инструкция для перемещения ' || &#13;&#10;        case &#13;&#10;           when task_type = 'MOVE_DEFECT' then &#13;&#10;           'брака из зоны выдачи '||deliv_area||' со склада '||storage||' в зону осмотра брака'&#13;&#10;           when task_type = 'MOVE_WRONG' then &#13;&#10;           'пересорта из зоны выдачи '||deliv_area||' на склад '||storage&#13;&#10;           when task_type = 'REJECT_0555' and o_order_status != 'ZORDR_PAYD' then &#13;&#10;           'товара при отказе клиента из зоны 0555  на основной склад ('||curstorage||')'&#13;&#10;           when task_type = 'REJECT_0555' and o_order_status = 'ZORDR_PAYD' then &#13;&#10;           'товара при отказе клиента из зоны выдачи '||deliv_area||' со склада '||storage||' на основной склад ('||curstorage||')'&#13;&#10;           when task_type = 'REJECT'  then &#13;&#10;           'товара при отказе клиента из зоны выдачи '||deliv_area||' на основной склад ('||curstorage||')'&#13;&#10;           when task_type = 'DELIVERY' then &#13;&#10;           'товара из зоны выдачи '||deliv_area||' со склада '||storage||' в зону доставки'   &#13;&#10;           when task_type = 'DEBARCADER' then &#13;&#10;           'товара из зоны выдачи '||deliv_area||' со склада '||storage||' на дебаркадер'&#13;&#10;&#13;&#10;        else 'ОШИБКА!'            &#13;&#10;        end as Title&#13;&#10;  from &#13;&#10; &#13;&#10;    (select  pk_common.GetOGIGoodCode(taskogi.og_item_id) good_code,&#13;&#10;&#13;&#10;             (select name &#13;&#10;               from good &#13;&#10;              where good_code = pk_common.GetOGIGoodCode(taskogi.og_item_id)) as name,&#13;&#10;&#13;&#10;              case &#13;&#10;                when taskogi.quantity = 0 then 1&#13;&#10;                when taskogi.quantity &#62; 0 then taskogi.quantity&#13;&#10;              end as quantity,&#13;&#10;              &#13;&#10;             pk_pzv.get_task_type_text(task.order_id) as task_type_text,&#13;&#10;             task.order_id as task_order_id,&#13;&#10;             pk_pzv.get_task_type(task.order_id) as task_type, &#13;&#10;               &#13;&#10;           --  decode(pk_pzv.get_task_type(task.order_id), 'REJECT_0555', null,    &#13;&#10;               (select da.area_name&#13;&#10;                  from DELIVERY_AREA da&#13;&#10;                 where da.area_id = nvl(pk_common.GetOpValue(task.parent_order_id, 'D_AREA_ID'),&#13;&#10;                                        pk_pzv.GetDeliveryArea(pk_common.GetOGIMecat(taskogi.og_item_id))))/*)*/ as Deliv_area,&#13;&#10;&#13;&#10;             pk_pzv.GetStorageCellCode(pk_common.GetOGIGoodCode(taskogi.og_item_id)) as cell_code,&#13;&#10;&#13;&#10;             taskogi.storage_code as storage,&#13;&#10;             &#13;&#10;             pk_sap_erp.GetWerkCodeByKind(get_werk_base, '0090') as curstorage,&#13;&#10;       &#13;&#10;             (select max(o.order_id)&#13;&#10;                from orders o&#13;&#10;               where o.chainnum = TASK.Chainnum&#13;&#10;                 and o.ot_code = 'ZORDR') as o_order_id,&#13;&#10;                 &#13;&#10;            (select first_value(o.os_code) over (order by o.order_id desc)&#13;&#10;                from orders o&#13;&#10;               where o.chainnum = TASK.Chainnum&#13;&#10;                 and o.ot_code = 'ZORDR'&#13;&#10;                 and rownum &#60; 2) as o_order_status,                &#13;&#10;            &#13;&#10;&#13;&#10;           (select ' '||um.short_name measure from g_unit gu, unit_measure um &#13;&#10;                  where gu.g_unit_id = taskogi.g_unit_id&#13;&#10;                  AND gu.unit_code = um.um_code) as measure&#13;&#10;     &#13;&#10;     from orders task         &#13;&#10; join o_good_item taskogi on taskogi.order_id = task.order_id&#13;&#10;  where task.order_id = :order_id &#13;&#10;      and task.ot_code = 'ZTASK') " PropData="05704C65667402380470546F700228095661726961626C657301010C470000002044617461547970653D226674537472696E6722204E616D653D224F524445525F49442220506172616D547970653D227074556E6B6E6F776E222056616C75653D2233353435220000"/>
    <TfrxDOAQuery Name="odsReplaceWrongGoods" UserName="odsReplaceWrongGoods" CloseDataSource="True" FieldAliases.Text="GOOD_CODE=GOOD_CODE&#13;&#10;NAME=NAME&#13;&#10;MECAT=MECAT" BCDToCurrency="False" Master="frDB_BaseTable" Session="DBM.OraSession" Active="False" Debug="False" MasterFields="order_id" Params.PropData="04446174610A260000000300000001000000090000003A4F524445525F49440500000005000000333534350000000000" SQL.Text="select g.good_code, g.name, g.mecat &#13;&#10;  from orders task&#13;&#10;  join o_good_item task_item on task.order_id = task_item.order_id&#13;&#10;  join o_good_item job_item on job_item.og_item_id = task_item.parent_og_item_id&#13;&#10;  join g_unit gu on gu.g_unit_id = job_item.g_unit_id&#13;&#10;  join good g on g.good_code = gu.good_code&#13;&#10; where task.order_id = :order_id&#13;&#10;   and pk_pzv.get_task_type(task.order_id) = 'MOVE_WRONG'&#13;&#10;   and task_item.storage_code = '0555'&#13;&#10;   and job_item.storage_code = '0555'" PropData="05704C65667402640470546F70027C095661726961626C657301010C470000002044617461547970653D226674537472696E6722204E616D653D224F524445525F49442220506172616D547970653D227074556E6B6E6F776E222056616C75653D2233353435220000"/>
    <TfrxDOAQuery Name="odsNull" UserName="odsNull" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" Session="DBM.OraSession" Active="False" Debug="False" SQL.Text="select null from dual" PropData="05704C65667403A0000470546F70023C095661726961626C65730100"/>
  </TfrxDataPage>
  <TfrxReportPage Name="Page1" PaperWidth="210" PaperHeight="297" PaperSize="9" LeftMargin="5" RightMargin="5" TopMargin="5" BottomMargin="5" ColumnWidth="0" ColumnPositions.Text="" HGuides.Text="" VGuides.Text="" OnBeforePrint="Page1OnBeforePrint">
    <TfrxReportTitle Name="ReportTitle2" Height="99,2047" Left="0" Top="16" Width="755,906" PrintChildIfInvisible="True">
      <TfrxMemoView Name="Memo7" Left="68,03154" Top="0" Width="597,16574" Height="91,64564" ShowHint="False" DisplayFormat.Kind="fkBoolean" Font.Charset="1" Font.Color="0" Font.Height="-19" Font.Name="Arial" Font.Style="1" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="[odsGoods.&#34;TITLE&#34;]"/>
    </TfrxReportTitle>
    <TfrxDetailData Name="DetailData1" Height="20,22047" Left="0" Top="220" Width="755,906" ColumnWidth="0" ColumnGap="0" DataSet="odsGoods" DataSetName="odsGoods" RowCount="0">
      <TfrxMemoView Name="Memo3" Left="170,07885" Top="0" Width="411,96839898" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="NAME" DataSet="odsGoods" DataSetName="odsGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HideZeros="True" ParentFont="False" Text="[odsGoods.&#34;NAME&#34;]"/>
      <TfrxMemoView Name="Memo5" Left="0" Top="0" Width="86,92912654" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="TASK_ORDER_ID" DataSet="odsGoods" DataSetName="odsGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsGoods.&#34;TASK_ORDER_ID&#34;]"/>
      <TfrxMemoView Name="Memo6" Left="665,19728" Top="0" Width="86,92913874" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="CELL_CODE" DataSet="odsGoods" DataSetName="odsGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsGoods.&#34;CELL_CODE&#34;]"/>
      <TfrxMemoView Name="Memo12" Left="86,92919" Top="0" Width="83,14959654" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="GOOD_CODE" DataSet="odsGoods" DataSetName="odsGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsGoods.&#34;GOOD_CODE&#34;]"/>
      <TfrxMemoView Name="Memo13" Left="582,04762" Top="0" Width="83,14960874" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="O_ORDER_ID" DataSet="odsGoods" DataSetName="odsGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsGoods.&#34;O_ORDER_ID&#34;]"/>
    </TfrxDetailData>
    <TfrxMasterData Name="MasterData1" Height="22,67718" Left="0" Top="176" Visible="False" Width="755,906" ColumnWidth="0" ColumnGap="0" DataSet="frDB_BaseTable" DataSetName="frDB_BaseTable" RowCount="0"/>
    <TfrxHeader Name="Header1" Height="18,89765" Left="0" Top="136" Width="755,906">
      <TfrxMemoView Name="Memo1" Left="170,07885" Top="0" Width="411,96877" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РќР°РёРјРµРЅРѕРІР°РЅРёРµ"/>
      <TfrxMemoView Name="Memo2" Left="0" Top="0" Width="86,92919" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-11" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РќРѕРјРµСЂ Р·Р°РґР°С‡Рё"/>
      <TfrxMemoView Name="Memo4" Left="665,19728" Top="0" Width="86,92919" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-11" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РЇС‡РµР№РєР°"/>
      <TfrxMemoView Name="Memo11" Left="86,92919" Top="0" Width="83,14966" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="Рќ/РЅ"/>
      <TfrxMemoView Name="Memo14" Left="582,04762" Top="0" Width="83,14966" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-11" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РќРѕРјРµСЂ Р·Р°РєР°Р·Р°"/>
    </TfrxHeader>
    <TfrxDetailData Name="DetailData2" Height="20,22047" Left="0" Top="440" Visible="False" Width="755,906" ColumnWidth="0" ColumnGap="0" DataSet="odsReplaceWrongGoods" DataSetName="odsReplaceWrongGoods" RowCount="0">
      <TfrxMemoView Name="Memo9" Left="0" Top="0" Width="124,72442654" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="GOOD_CODE" DataSet="odsReplaceWrongGoods" DataSetName="odsReplaceWrongGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsReplaceWrongGoods.&#34;GOOD_CODE&#34;]"/>
      <TfrxMemoView Name="Memo10" Left="574,48856" Top="0" Width="177,63785874" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="MECAT" DataSet="odsReplaceWrongGoods" DataSetName="odsReplaceWrongGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[odsReplaceWrongGoods.&#34;MECAT&#34;]"/>
      <TfrxMemoView Name="Memo15" Left="124,72449" Top="0" Width="449,76400654" Height="20,22047" ShowHint="False" StretchMode="smMaxHeight" DataField="NAME" DataSet="odsReplaceWrongGoods" DataSetName="odsReplaceWrongGoods" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="15" HideZeros="True" ParentFont="False" Text="[odsReplaceWrongGoods.&#34;NAME&#34;]"/>
    </TfrxDetailData>
    <TfrxMasterData Name="MasterData2" Height="22,67718" Left="0" Top="396" Visible="False" Width="755,906" ColumnWidth="0" ColumnGap="0" DataSet="frDB_BaseTable" DataSetName="frDB_BaseTable" RowCount="0"/>
    <TfrxMasterData Name="MasterData3" Height="75,5906" Left="0" Top="260" Visible="False" Width="755,906" ColumnWidth="0" ColumnGap="0" DataSet="odsNull" DataSetName="odsNull" RowCount="0">
      <TfrxMemoView Name="Memo8" Left="37,7953" Top="26,45671" Width="714,33117" Height="37,7953" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="1" ParentFont="False" Text="РџСЂРѕРІРµСЂСЊС‚Рµ РЅР°Р»РёС‡РёРµ СЃР»РµРґСѓСЋС‰РёС… С‚РѕРІР°СЂРѕРІ РЅР° СЃРєР»Р°РґРµ Р РµР·РµСЂРІ РїСЂРѕРґР°Р¶ РРњ Рё РїСЂРѕРІРµРґРёС‚Рµ Р»РѕРєР°Р»СЊРЅСѓСЋ РёРЅРІРµРЅС‚Р°СЂРёР·Р°С†РёСЋ РґР»СЏ СЃРѕРѕС‚РІРµС‚СЃРІСѓСЋС‰РёС… РёРј С‚РѕРІР°СЂРЅС‹С… РєР°С‚РµРіРѕСЂРёР№:"/>
      <TfrxMemoView Name="Memo19" Left="7,55906" Top="26,45671" Width="30,23624" Height="37,7953" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-29" Font.Name="Arial" Font.Style="1" ParentFont="False" Text="/!\"/>
    </TfrxMasterData>
    <TfrxHeader Name="Header2" Height="18,89765" Left="0" Top="356" Visible="False" Width="755,906">
      <TfrxMemoView Name="Memo16" Left="124,72449" Top="0" Width="449,76407" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" Text="РќР°РёРјРµРЅРѕРІР°РЅРёРµ"/>
      <TfrxMemoView Name="Memo17" Left="0" Top="0" Width="124,72449" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-12" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РљРѕРґ С‚РѕРІР°СЂР°"/>
      <TfrxMemoView Name="Memo18" Left="574,48856" Top="0" Width="177,63791" Height="18,89765" ShowHint="False" Font.Charset="1" Font.Color="0" Font.Height="-12" Font.Name="Arial" Font.Style="1" Frame.Typ="15" HAlign="haCenter" ParentFont="False" VAlign="vaCenter" Text="РљРѕРґ С‚РѕРІР°СЂРЅРѕР№ РєР°С‚РµРіРѕСЂРёРё"/>
    </TfrxHeader>
  </TfrxReportPage>
</TfrxReport>
